serializationutils throws classnotfoundexception cloning primitive classes serializable object reference primitive class int class int class serializationutils throw classnotfoundexception clone object import org apache commons lang3 serializationutils import org junit test public class serializationutilstest test public void primitivetypeclassserialization class primitivetype int class class clone serializationutils clone primitivetype assertequals primitivetype clone problem reported java bug http bugs sun view bug bug objectinputstream fixed java version serializationutils problem arises serializationutils internally classloaderawareobjectinputstream overrides objectinputstreams resoleclass method delegating super method case classnotfoundexception understand intention classloaderawareobjectinputstream implementation implement fallback original implementation protected class resolveclass objectstreamclass desc throws ioexception classnotfoundexception string desc getname return class forname false classloader catch classnotfoundexception return class forname false thread currentthread getcontextclassloader catch exception return super resolveclass desc code objectinputstream fixed java bug protected class resolveclass objectstreamclass desc throws ioexception classnotfoundexception string desc getname return class forname false latestuserdefinedloader catch classnotfoundexception class class primclasses null return throw
