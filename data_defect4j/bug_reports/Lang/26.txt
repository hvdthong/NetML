fastdateformat format outputs incorrect week year locale respected fastdateformat apparently respect locale creation outputting week year format settings system locale firstdayofweek minimaldaysinfirstweek depending year result incorrect week number output simple test program demonstrate problem comparing simpledateformat week number import java util calendar import java util date import java util locale import java text simpledateformat import org apache commons lang time fastdateformat public class fastdateformatweekbugdemo public static void main string args locale setdefault locale locale locale locale calendar cal calendar getinstance setting locale change outcome cal set date cal gettime system println target date fastdateformat fdf fastdateformat getinstance eeee week ww locale simpledateformat sdf simpledateformat eeee week ww locale system println fastdateformat fdf format output fastdateformat fredag week system println simpledateformat sdf format output simpledateformat fredag week passed locale setdefault fastdateformat simpledateformat output correct week number
