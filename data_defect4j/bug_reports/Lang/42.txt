stringescapeutils escapehtml incorrectly converts unicode characters 00ffff characters characters represented characters internaly java incorrectly converted function test displays problem nicely import org apache commons lang public class public static void main string args throws exception utf8 representation character counting rod unit digit unicode codepoint 1d362 byte data byte byte 0xf0 byte 0x9d byte 0x8d byte 0xa2 output system println stringescapeutils escapehtml string data utf8 quick fix feel free drop email patch
