withmillisofsecond dst switch calling datetime withmillisofsecond datetime dst switch wrong datetime returned test shown import junit framework assert import org joda time datetime import org joda time datetimezone import org joda time chrono isochronology import org testng annotations test test public class datetimetest public void test final datetime datetime datetime 31t2 isochronology getinstance datetimezone forid europe paris assert assertequals datetime tostring 31t02 assert assertequals datetime getmillis 1288485000123l final datetime datetimewithzeromillis datetime withmillisofsecond assert assertequals datetimewithzeromillis tostring 31t02 fails 31t02 assert assertequals datetimewithzeromillis getmillis 1288485000000l fails 1288488600000 31t02 31t02
