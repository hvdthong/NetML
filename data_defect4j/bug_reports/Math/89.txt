bugs frequency api existing frequency api bugs addvalue object method add plain object add instance add fails illegalargumentexception fact problem call addvalue object plain object added comparable objects fixed checking object comparable similar considerations apply getcumfreq object getcumpct object methods work objects implement comparable getcount object getpct object methods fail comparable object class cast exception caught return object present final object obj object addvalue obj fail causing unexpected behaviour system println getcount obj system println getpct obj adding extra checks comparable api improved comparable object make easier implement generics compilation failures programs pass object comparable class recoding continue run api affect run time behaviour slightly attempt add comparable object fail add possibly valid object viable program add object attempt statistics return exception applying instanceof fix fail
