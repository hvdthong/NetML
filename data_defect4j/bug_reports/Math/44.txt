incomplete reinitialization events handling bug event handling track events occur step accepted resets state reinitialization complete unable find give context large patch works breaks unit tests
