org aspectj weaver bcel
add aspectof hasaspect annot defin aspect
author href mailto alex gnilux dot alexandr vasseur
bcel claus aspect adder bcelperclauseaspectadd bcel type munger bceltypemung
gener object aspect method generateperobjectaspectofmethod lazi class gen lazyclassgen class gen classgen
instruct factori instructionfactori factori class gen classgen factori getfactori
refer type referencetyp interfac type interfacetyp refer type referencetyp bcel world bcelworld make bcel type makebceltyp ajc member maker ajcmembermak object interfac type perobjectinterfacetyp aspect type aspecttyp
lazi method gen lazymethodgen method make method gen makemethodgen class gen classgen ajc member maker ajcmembermak object aspect method perobjectaspectofmethod aspect type aspecttyp
flag synthet flagassynthet method
class gen classgen add method gen addmethodgen method
instruct list instructionlist method bodi getbodi
append instruct constant instructionconst aload
append factori creat instanc createinstanceof interfac type interfacetyp
branch instruct branchinstruct ifeq instruct factori instructionfactori creat branch instruct createbranchinstruct constant ifeq
append ifeq
append instruct constant instructionconst aload
append factori creat check cast createcheckcast interfac type interfacetyp
append util creat invok createinvok factori constant invokeinterfac ajc member maker ajcmembermak object interfac perobjectinterfaceget aspect type aspecttyp
append instruct constant instructionconst dup
branch instruct branchinstruct null ifnul instruct factori instructionfactori creat branch instruct createbranchinstruct constant ifnul
append null ifnul
append instruct factori instructionfactori creat return createreturn bcel world bcelworld make bcel type makebceltyp aspect type aspecttyp
instruct handl instructionhandl null ifnullels append pop
null ifnul set target settarget null ifnullels
instruct handl instructionhandl ifeqels append factori creat createnew ajc member maker ajcmembermak aspect bound except aspect bound except getnam
ifeq set target settarget ifeqels
append instruct constant instructionconst dup
append factori creat invok createinvok ajc member maker ajcmembermak aspect bound except aspect bound except getnam init type void type arg arg constant invokespeci
append athrow