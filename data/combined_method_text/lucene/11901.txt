org apach lucen index
index file delet indexfiledelet
initi delet find previou commit
directori incref file refer call
polici delet commit remov
file referenc commit
throw corruptindexexcept index corrupt
throw ioexcept low level error
index file delet indexfiledelet directori directori index delet polici indexdeletionpolici polici segment info segmentinfo segment info segmentinfo print stream printstream info stream infostream document writer documentswrit doc writer docwrit
corrupt index except corruptindexexcept except ioexcept
doc writer docwrit doc writer docwrit
info stream infostream info stream infostream
info stream infostream
messag init current segment file segment info segmentinfo current segment file getcurrentsegmentfilenam deletionpolici polici
polici polici
directori directori
pass walk file initi ref
count
current gen currentgen segment info segmentinfo gener getgener
index file filter indexfilenamefilt filter index file filter indexfilenamefilt filter getfilt
string file directori list listal
commit point commitpoint current commit point currentcommitpoint
file length
string file filenam file
filter accept file filenam file filenam equal index file name indexfilenam segment gen segment gen
add file refcount initi count
ref count getrefcount file filenam
file filenam start startswith index file name indexfilenam segment
commit segment segment
valid max gen load
incref file refer
segment info segmentinfo gener segment file generationfromsegmentsfilenam file filenam current gen currentgen
info stream infostream
messag init load commit file filenam
segment info segmentinfo si segment info segmentinfo
si read directori file filenam
file found except filenotfoundexcept
lucen nf
writer switch back
machin
dir list stale claim
file segment exist fact
catch handl
file exist
info stream infostream
messag init hit filenotfoundexcept load commit file filenam skip commit point
si
si
commit point commitpoint commit point commitpoint commit point commitpoint commit delet commitstodelet directori si
si gener getgener segment info segmentinfo gener getgener
current commit point currentcommitpoint commit point commitpoint
commit add commit point commitpoint
ref incref si
current commit point currentcommitpoint
fact segment file
segmentinfo pass
exist caller hold
write lock happen directori
list stale index access nf
client stale directori list cach
explicitli open commit point
segment info segmentinfo si segment info segmentinfo
si read directori segment info segmentinfo current segment file getcurrentsegmentfilenam
except ioexcept
corrupt index except corruptindexexcept fail locat current segment file
info stream infostream
messag forc open current segment file segment info segmentinfo current segment file getcurrentsegmentfilenam
current commit point currentcommitpoint commit point commitpoint commit delet commitstodelet directori si
commit add current commit point currentcommitpoint
ref incref si
commit list sort order oldest newest
collect sort commit
delet ref count
abandon file due crash
indexwrit
map entri string ref count refcount entri ref count refcount entri set entryset
ref count refcount entri getvalu
string file filenam entri kei getkei
count
info stream infostream
messag init remov unreferenc file file filenam
delet file deletefil file filenam
final give polici chanc remov thing
startup
polici init oninit commit
protect incom segmentinfo
recent commit
checkpoint segment info segmentinfo
start commit delet startingcommitdelet current commit point currentcommitpoint delet isdelet
delet commit deletecommit